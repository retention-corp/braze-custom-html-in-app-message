# Countdown Timer Modal Template

### 개요

실시간 카운트다운 타이머가 있는 모달 인앱 메시지입니다. 긴급성을 높이고 FOMO(Fear Of Missing Out)를 유도하여 전환율을 높이는 시간 제한 프로모션에 최적화되어 있습니다.

### 주요 기능

- ✅ 실시간 카운트다운 (일, 시간, 분, 초)
- ✅ 설정 가능한 종료 날짜/시간
- ✅ 긴급도 기반 색상 변화 (초록 → 노랑 → 빨강)
- ✅ 타이머 만료 시 커스텀 이벤트 로깅
- ✅ 선택적 자동 닫기 기능
- ✅ CTA 버튼 (웹 링크 / 딥링크 지원)
- ✅ 모바일 최적화 반응형 디자인

### 미리보기

```
┌──────────────────────────────┐
│ ⏰ 타임 세일 진행중!    ✕   │
│ 지금 바로 혜택을 받으세요!   │
│                              │
│ ┌──────────────────────────┐ │
│ │      남은 시간           │ │
│ │  00   12   34   56       │ │
│ │  일   시간  분   초       │ │
│ └──────────────────────────┘ │
│                              │
│   [ 지금 확인하기 ]          │
└──────────────────────────────┘
```

### 커스터마이징 옵션

#### 기본 설정
```javascript
var config = {
    title: "⏰ 타임 세일 진행중!",
    description: "지금 바로 혜택을 받으세요!",
    ctaButtonText: "지금 확인하기",
    expiredMessage: "⏰ 이벤트가 종료되었습니다"
};
```

#### 카운트다운 설정
```javascript
var countdownConfig = {
    targetDate: "2026-01-10 23:59:59",  // 종료 날짜/시간
    autoCloseOnExpiry: false,            // 종료 시 자동 닫기
    urgencyThresholds: {
        medium: 24 * 60 * 60,  // 24시간 후부터 노란색
        high: 6 * 60 * 60      // 6시간 후부터 빨간색
    }
};
```

#### CTA 버튼 설정
```javascript
var ctaUrl = "athlerab://promotion/timesale";
var linkType = "deeplink";  // "deeplink" 또는 "web"
```

### 작동 방식

1. **타이머 시작**: 페이지 로드 시 실시간 카운트다운 시작
2. **긴급도 표시**: 남은 시간에 따라 색상 자동 변경
   - 24시간 이상: 회색 배경 (기본)
   - 24시간 이하: 노란색 배경 (medium urgency)
   - 6시간 이하: 빨간색 배경 (high urgency)
3. **만료 처리**: 타이머 종료 시
   - 커스텀 이벤트 로깅 (`countdown_timer_expired`)
   - 만료 메시지 표시
   - CTA 버튼 숨김
   - 선택적 자동 닫기 (설정 시)

### 커스텀 이벤트

| 이벤트명 | 트리거 시점 | 속성 |
|----------|-------------|------|
| `countdown_timer_viewed` | 타이머 표시됨 | 없음 |
| `countdown_timer_expired` | 타이머 만료됨 | 없음 |
| `countdown_cta_click` | CTA 버튼 클릭 | 없음 |

### 클릭 추적 버튼 ID

| 버튼 ID | 설명 |
|---------|------|
| `close_button` | 닫기 버튼 클릭 |
| `close_overlay` | 오버레이 배경 클릭 |
| `cta_button` | CTA 버튼 클릭 |

### 사용 사례

- **플래시 세일**: 시간 제한 할인 프로모션
- **한정 재고**: 선착순 이벤트
- **티켓 판매**: 얼리버드 티켓 마감 카운트다운
- **이벤트 알림**: 라이브 스트림/웨비나 시작 카운트다운
- **시즌 세일**: 블랙프라이데이/사이버먼데이 마감
- **신제품 출시**: 론칭 카운트다운

### AI 커스터마이징 예시

AI에게 카운트다운 타이머 수정 요청:

```
"종료 시간을 2026년 2월 14일 자정으로 설정해줘"
"긴급 상태를 12시간부터 시작하도록 바꿔줘"
"자동 닫기 기능을 켜줘"
"버튼 텍스트를 '혜택 받기'로 바꿔줘"
"타이머 만료 이벤트명을  'flash_sale_ended'로 변경해줘"
"웹 링크로 변경: https://sale.example.com"
```

### 긴급도 색상 시스템

타이머는 남은 시간에 따라 자동으로 긴급도를 표시합니다:

| 남은 시간 | 배경색 | 텍스트 색상 | 긴급도 |
|-----------|--------|-------------|--------|
| 24시간 초과 | 회색 (`#f8f8f8`) | 검정 (`#222`) | 낮음 |
| 6-24시간 | 노란색 (`#fff9e6`) | 주황색 (`#ff9800`) | 중간 |
| 6시간 이하 | 빨간색 (`#ffe6e6`) | 빨강 (`#f44336`) | 높음 |

### 날짜/시간 형식

`targetDate`는 다음 형식을 사용합니다:

```javascript
"YYYY-MM-DD HH:MM:SS"  // 24시간 형식

// 예시:
"2026-01-10 23:59:59"  // 2026년 1월 10일 오후 11시 59분 59초
"2026-12-25 00:00:00"  // 2026년 12월 25일 자정
"2026-06-30 18:30:00"  // 2026년 6월 30일 오후 6시 30분
```

### 자동 닫기 동작

`autoCloseOnExpiry: true`로 설정 시:
- 타이머 만료 후 2초 대기
- 만료 메시지 표시
- 자동으로 메시지 닫힘

`autoCloseOnExpiry: false`로 설정 시:
- 타이머 만료 후 메시지 유지
- 사용자가 수동으로 닫아야 함
- 만료된 프로모션 정보 전달 가능

### 모범 사례

1. **현실적인 마감 시간 설정**: 너무 짧으면 사용자가 놓칠 수 있음
2. **긴급도 임계값 조정**: 제품/서비스 특성에 맞게 설정
3. **명확한 CTA**: 타이머와 관련된 명확한 액션 제시
4. **자동 닫기 신중히 사용**: 중요한 정보는 사용자가 닫도록 유도
5. **A/B 테스트**: 타이머 유무에 따른 전환율 비교
6. **시간대 고려**: 사용자 시간대에 맞춰 종료 시간 설정

### 브라우저 지원

- ✅ iOS Safari 12+
- ✅ Android Chrome 80+
- ✅ 모든 최신 모바일 브라우저
- ✅ JavaScript 필수

### 알려진 제한사항

- 사용자 기기 시간에 의존 (기기 시간이 틀리면 카운트다운도 부정확)
- 배경 탭에서 타이머가 일시 중지될 수 있음 (모바일 브라우저 제한)
- 타임존은 사용자 로컬 시간 기준

### 팁

1. **테스트 시 짧은 시간 설정**: `targetDate`를 현재 시간 + 5분으로 설정하여 빠르게 테스트
2. **이벤트 추적**: Braze에서 타이머 조회 수와 만료율 모니터링
3. **세그멘테이션**: 타이머 본 사용자 vs 안 본 사용자 비교 분석
4. **재참여 캠페인**: 타이머 만료 후 "놓치셨나요?" 리타게팅
5. **Liquid 활용**: Braze Liquid로 사용자별 동적 종료 시간 설정 가능
